<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zenfisio Manager - An√°lise de Dados</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/evolucoes-tabs.css">
    <link rel="stylesheet" href="css/floating-cards.css">
    <link rel="stylesheet" href="css/financial-module.css">
    <link rel="stylesheet" href="css/filter-styles.css">
    <link rel="stylesheet" href="css/filter-modal-styles.css">
</head>
<body>
    <!-- Navigation Header -->
    <header class="app-header">
        <div class="header-content">
            <div class="logo-section">
                <img src="assets/logo.svg" alt="Zenfisio" class="logo-icon">
                <h1 class="app-title">Auto Gerenciamento</h1>
            </div>
            <nav class="app-nav">
                <button class="nav-btn active" data-module="evolucoes">Evolu√ß√µes Pendentes</button>
                <button class="nav-btn" data-module="financeiro">An√°lise Financeira</button>
                <button class="nav-btn" data-module="desenvolvimento">Em Desenvolvimento</button>
            </nav>
            <button class="theme-toggle" id="themeToggle" title="Alternar tema">
                <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <main class="app-main">
        <!-- Evolu√ß√µes Module -->
        <section class="module active" id="evolucoes" data-module="evolucoes">
            <div class="evolucoes-layout">
                <!-- Left Card - Sidebar -->
                <div class="card input-card evolucoes-left">
                    <div class="card-header">
                        <button class="how-to-use-btn" id="howToUseBtn" title="Clique para saber como usar">
                            ‚ùì Como Usar
                        </button>
                    </div>
                    <div class="card-body">
                        <!-- Date Controls -->
                        <div class="date-controls">
                            <button class="date-btn text-btn" id="prevMonthBtn" title="M√™s anterior">
                                ‚óÄ‚óÄ
                            </button>
                            <button class="date-btn" id="prevDayBtn" title="Dia anterior">
                                ‚àí
                            </button>
                            <div class="date-display">
                                <div class="date-value" id="dateValue">10/11/2025</div>
                                <div class="date-label">Data</div>
                            </div>
                            <button class="date-btn" id="nextDayBtn" title="Pr√≥ximo dia">
                                +
                            </button>
                            <button class="date-btn btn-today" id="todayBtn" title="Volta para hoje">
                                Hoje
                            </button>
                            <input type="date" id="dataInput" class="form-input" style="display:none;">
                        </div>

                        <!-- Date Message -->
                        <div class="date-message" id="dateMessage">
                            Data selecionada: <strong>10 de novembro de 2025</strong><br>
                            Todas as evolu√ß√µes pendentes ser√£o registradas nesta data.
                        </div>

                        <!-- Textarea -->
                        <div class="form-group">
                            <label for="evolucaoTextarea">Cole o conte√∫do aqui</label>
                            <textarea id="evolucaoTextarea" class="form-textarea" placeholder="Hor√°rio: 09:00 - 10:00
Hor√°rio: 09:00 - 10:00
Fisioterapeuta: Nome do Profissional
Paciente: Nome do Paciente
Celular: +55 (XX) 9XXXX-XXXX
Conv√™nio: Particular/Conv√™nio
Status: Presen√ßa confirmada
Procedimentos: Descri√ß√£o do atendimento
Atendimento - Particular/Isento | R$ 15,00"></textarea>
                        </div>

                        <div class="button-group">
                            <button id="processBtn" class="btn btn-primary">Processar</button>
                            <button id="clearBtn" class="btn btn-secondary">Limpar</button>
                        </div>
                    </div>
                </div>

                <!-- Right Content Area -->
                <div class="evolucoes-right">
                    <div class="card">
                        <div class="card-header evolucoes-header">
                            <h3><span class="card-title-text">An√°lise de Evolu√ß√µes Pendentes</span></h3>
                            <div class="evolucoes-actions">
                                <button class="action-btn" id="exportBtn" title="Exportar todos os dados">
                                    üíæ Exportar
                                </button>
                                <button class="action-btn" id="importBtn" title="Importar dados de backup">
                                    üìÇ Importar
                                </button>
                                <input type="file" id="importInput" accept=".json" style="display: none;">
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- Bot√£o de Filtros e Limpeza -->
                            <div style="margin-bottom: 1rem; display: flex; gap: 1rem;">
                                <button id="openEvolucoesFilterBtn" class="action-btn" title="Abrir painel de filtros">
                                    üîç Filtrar
                                </button>
                                <button id="clearEvolucoesDataBtn" class="action-btn" title="Limpar dados de evolu√ß√µes" style="background-color: #dc3545;">
                                    üóëÔ∏è Limpar Evolu√ß√µes
                                </button>
                            </div>

                            <!-- Tab Navigation -->
                            <div class="evolucoes-tabs">
                                <button class="tab-btn active" data-tab="visao-geral">Vis√£o Geral</button>
                                <button class="tab-btn" data-tab="pacientes">Pacientes</button>
                                <button class="tab-btn" data-tab="fisioterapeutas">Fisioterapeutas</button>
                                <button class="tab-btn" data-tab="cronologia">Cronologia</button>
                            </div>

                            <!-- Tab Contents -->
                            <div data-tab-content="visao-geral" class="tab-content active">
                                <div class="empty-state">
                                    <div class="empty-state-icon">üì≠</div>
                                    <div class="empty-state-title">Nenhum dado processado</div>
                                    <div class="empty-state-text">Cole as evolu√ß√µes √† esquerda e clique em "Processar" para come√ßar</div>
                                </div>
                            </div>

                            <div data-tab-content="pacientes" class="tab-content">
                                <div class="empty-state">
                                    <div class="empty-state-icon">ÔøΩ</div>
                                    <div class="empty-state-title">Nenhum paciente encontrado</div>
                                    <div class="empty-state-text">Processe dados para ver pacientes aqui</div>
                                </div>
                            </div>

                            <div data-tab-content="fisioterapeutas" class="tab-content">
                                <div class="empty-state">
                                    <div class="empty-state-icon">üë®‚Äç‚öïÔ∏è</div>
                                    <div class="empty-state-title">Nenhum fisioterapeuta encontrado</div>
                                    <div class="empty-state-text">Processe dados para ver fisioterapeutas aqui</div>
                                </div>
                            </div>

                            <div data-tab-content="cronologia" class="tab-content">
                                <div class="empty-state">
                                    <div class="empty-state-icon">üìÖ</div>
                                    <div class="empty-state-title">Nenhum item na cronologia</div>
                                    <div class="empty-state-text">Processe dados para ver cronologia aqui</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Financeiro Module -->
        <section class="module" id="financeiro" data-module="financeiro">
            <!-- Renderizado dinamicamente pelo FinancialUI -->
        </section>

        <!-- Organizacional Module -->
        <section class="module" id="organizacional" data-module="desenvolvimento">
            <div class="module-container">
                <div class="section-header">
                    <h2>An√°lise Organizacional</h2>
                    <p>Estrutura e hierarquia dos dados</p>
                </div>

                <div class="alert alert-info">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="16" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                    <span>Processe seus dados primeiro no Dashboard</span>
                </div>

                <div class="coming-soon">
                    <div class="coming-soon-icon">üè¢</div>
                    <h3>An√°lise Organizacional</h3>
                    <p>Categoriza√ß√£o autom√°tica e distribui√ß√£o por departamento</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-left">
                <div class="footer-brand">
                    <span class="footer-brand-mark">¬©</span>
                    <span class="footer-brand-text">2025 Necromante96Official ‚Ä¢ Todos os direitos reservados</span>
                </div>
            </div>
            <div class="footer-center">
                <button class="version-badge" title="Clique para ver hist√≥rico de atualiza√ß√µes">
                    <span>üì¶ Vers√£o 1.0.0.6</span>
                </button>
            </div>
            <div class="footer-right">
                <button class="terms-btn" id="termsBtn">Termos</button>
            </div>
        </div>
    </footer>

    <!-- Modal de Hist√≥rico de Atualiza√ß√µes -->
    <div class="history-overlay" id="historyModal">
        <div class="history-modal">
            <div class="history-header">
                <h2>üìú Hist√≥rico de Atualiza√ß√µes</h2>
                <button class="history-close" id="closeHistory">&times;</button>
            </div>
            <div class="history-content" id="historyContent">
                <!-- Vers√µes ser√£o adicionadas aqui via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Modal de Termos -->
    <div class="modal-overlay" id="termsModal">
        <div class="modal-content terms-content">
            <div class="modal-header">
                <h2>Termos de Uso</h2>
                <button class="modal-close" id="closeTerms">&times;</button>
            </div>
            <div class="modal-body terms-body">
                <div class="terms-section">
                    <div class="terms-section-title">
                        <span class="terms-icon">üè¢</span>
                        <h3>Auto Gerenciamento - ZenFisio Manager</h3>
                    </div>
                    <p>Plataforma integrada de gest√£o administrativa para otimiza√ß√£o de processos cl√≠nicos.</p>
                </div>

                <div class="terms-section">
                    <div class="terms-section-title">
                        <span class="terms-icon">‚öôÔ∏è</span>
                        <h3>Funcionalidades & Escopo</h3>
                    </div>
                    <div class="terms-subsection">
                        <h4>M√≥dulo de Evolu√ß√µes Pendentes</h4>
                        <ul>
                            <li>Triagem automatizada de registros de evolu√ß√£o cl√≠nica</li>
                            <li>Navega√ß√£o por data com controle granular (m√™s/dia)</li>
                            <li>Processamento e valida√ß√£o de dados em tempo real</li>
                            <li>Gera√ß√£o de relat√≥rios estruturados</li>
                        </ul>
                    </div>
                    <div class="terms-subsection">
                        <h4>M√≥dulo de An√°lise Financeira</h4>
                        <ul>
                            <li>C√°lculo de receita bruta por per√≠odo</li>
                            <li>An√°lise de ticket m√©dio</li>
                            <li>√çndices de rentabilidade por profissional</li>
                        </ul>
                    </div>
                </div>

                <div class="terms-section">
                    <div class="terms-section-title">
                        <span class="terms-icon">üë§</span>
                        <h3>Desenvolvedor & Autoriza√ß√£o</h3>
                    </div>
                    <div class="terms-info-row">
                        <span class="terms-label">Desenvolvedor:</span>
                        <span>Lucas Tavares Mattos (GameDev Necromante96Official)</span>
                    </div>
                    <div class="terms-info-row">
                        <span class="terms-label">Fun√ß√£o:</span>
                        <span>Colaborador especializado em automa√ß√£o administrativo-financeira | Recepcionista</span>
                    </div>
                    <div class="terms-info-row">
                        <span class="terms-label">Vincula√ß√£o:</span>
                        <span>Funcion√°rio MultService | Prestador de servi√ßos para Faculdade de Fisioterapia ESEFID/UFRGS</span>
                    </div>
                    <div class="terms-info-row">
                        <span class="terms-label">Autoriza√ß√£o de Uso:</span>
                        <span>Restrita aos colaboradores credenciados da institui√ß√£o ESEFID/UFRGS</span>
                    </div>
                </div>

                <div class="terms-section">
                    <div class="terms-section-title">
                        <span class="terms-icon">üîí</span>
                        <h3>Seguran√ßa & Conformidade de Dados</h3>
                    </div>
                    <div class="terms-subsection">
                        <h4>Requisitos de Conformidade</h4>
                        <ul>
                            <li>Utiliza√ß√£o exclusiva de dados exportados oficialmente da plataforma ZenFisio</li>
                            <li>Manuten√ß√£o de backups em ambientes criptografados e controlados</li>
                            <li>Proibi√ß√£o absoluta de compartilhamento com terceiros n√£o autorizados</li>
                            <li>Compliance com normas LGPD e sigilo profissional</li>
                            <li>Auditoria peri√≥dica de acessos e opera√ß√µes</li>
                        </ul>
                    </div>
                </div>

                <div class="terms-section">
                    <div class="terms-section-title">
                        <span class="terms-icon">‚öñÔ∏è</span>
                        <h3>Propriedade Intelectual & Versionamento</h3>
                    </div>
                    <div class="terms-info-row">
                        <span class="terms-label">Direitos:</span>
                        <span>C√≥digo-fonte e design s√£o propriedade exclusiva do desenvolvedor.</span>
                    </div>
                    <div class="terms-info-row">
                        <span class="terms-label">Pol√≠tica de Atualiza√ß√µes:</span>
                        <span>Novas vers√µes podem introduzir funcionalidades, alterar fluxos ou requisitar novo aceite de termos sem notifica√ß√£o pr√©via.</span>
                    </div>
                    <div class="terms-info-row">
                        <span class="terms-label">Versionamento:</span>
                        <span>Formato X.Y.Z onde X=Major, Y=Minor, Z=Patch</span>
                    </div>
                </div>

                <div class="terms-section">
                    <div class="terms-section-title">
                        <span class="terms-icon">‚úÖ</span>
                        <h3>Aceite & Responsabilidade Legal</h3>
                    </div>
                    <h4>Ao acessar este sistema voc√™ confirma</h4>
                    <ul>
                        <li>Conhecimento e aceita√ß√£o de todos os termos listados</li>
                        <li>Compromisso com confidencialidade de dados cl√≠nicos e financeiros</li>
                        <li>Responsabilidade integral por a√ß√µes realizadas em sua conta</li>
                        <li>Utiliza√ß√£o apenas para fins profissionais autorizados pela cl√≠nica</li>
                        <li>Isen√ß√£o de responsabilidade do desenvolvedor por interpreta√ß√µes equivocadas</li>
                    </ul>
                </div>

                <div class="terms-acceptance-info">
                    <p>‚ÑπÔ∏è Voc√™ concorda com estes termos ao utilizar a plataforma</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Como Usar -->
    <div class="modal-overlay" id="howToUseModal">
        <div class="modal-content how-to-use-content">
            <div class="modal-header">
                <h2>Como Usar</h2>
                <button class="modal-close" id="closeHowToUse">&times;</button>
            </div>
            <div class="modal-body how-to-use-body">
                <div class="how-to-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Cole o Conte√∫do</h3>
                        <p>Cole as evolu√ß√µes/atendimentos na se√ß√£o √† esquerda. Suporta:</p>
                        <ul>
                            <li>‚úÖ Uma ou v√°rias mensagens juntas</li>
                            <li>‚úÖ Texto livre com dados de pacientes, fisioterapeutas e atendimentos</li>
                            <li>‚úÖ Caracteres especiais (√ó, √ó, etc)</li>
                            <li>‚úÖ M√∫ltiplos formatos e separadores</li>
                            <li>‚ö†Ô∏è Apenas "Presen√ßa confirmada" ser√° processado</li>
                        </ul>
                    </div>
                </div>

                <div class="how-to-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Selecione a Data</h3>
                        <p>Use os controles de data √† esquerda:</p>
                        <ul>
                            <li>‚óÄ‚óÄ - M√™s anterior</li>
                            <li>‚àí / + - Dia anterior/pr√≥ximo</li>
                            <li>Hoje - Retorna para hoje</li>
                            <li>Data selecionada aparece em destaque</li>
                        </ul>
                    </div>
                </div>

                <div class="how-to-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Processar</h3>
                        <p>Clique em "Processar" para iniciar a an√°lise:</p>
                        <ul>
                            <li>‚úÖ Sistema processa automaticamente</li>
                            <li>‚úÖ Campo √© limpo ap√≥s sucesso</li>
                            <li>‚úÖ Notifica√ß√£o mostra quantos registros foram adicionados</li>
                            <li>‚úÖ Dados salvam automaticamente</li>
                        </ul>
                    </div>
                </div>

                <div class="how-to-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Visualizar Evolu√ß√µes</h3>
                        <p>No m√≥dulo "Evolu√ß√µes Pendentes", navegue pelas 4 abas:</p>
                        <ul>
                            <li><strong>Vis√£o Geral</strong> - Resumo de pacientes e profissionais</li>
                            <li><strong>Pacientes</strong> - Cards expand√≠veis com detalhes</li>
                            <li><strong>Fisioterapeutas</strong> - Lista de profissionais e atendimentos</li>
                            <li><strong>Cronologia</strong> - Timeline dos eventos por data</li>
                        </ul>
                    </div>
                </div>

                <div class="how-to-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3>An√°lise Financeira (NOVO!)</h3>
                        <p>Clique em "An√°lise Financeira" para ver relat√≥rios monet√°rios:</p>
                        <ul>
                            <li><strong>Resumo</strong> - Total de atendimentos, receita total, ticket m√©dio</li>
                            <li><strong>Especialidades</strong> - Receita por tipo de procedimento</li>
                            <li><strong>Profissionais</strong> - Rentabilidade por terapeuta, pacientes √∫nicos</li>
                            <li><strong>Pacientes</strong> - Separa√ß√£o entre isentos e particulares com valores</li>
                        </ul>
                    </div>
                </div>

                <div class="how-to-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <h3>Exportar & Importar</h3>
                        <p>Salve e restaure seus dados:</p>
                        <ul>
                            <li>üíæ Exportar - Salva tudo em arquivo JSON</li>
                            <li>üìÇ Importar - Restaura dados de backup anterior</li>
                            <li>‚öôÔ∏è Auto-save - Dados salvam a cada 30 segundos</li>
                        </ul>
                    </div>
                </div>

                <div class="how-to-info-box">
                    <p>‚ÑπÔ∏è <strong>Dica:</strong> Copie m√∫ltiplas mensagens do ZenFisio e cole tudo de uma vez. O sistema processa automaticamente!</p>
                </div>

                <div class="how-to-info-box">
                    <p>‚úÖ <strong>Formato Aceito:</strong> Hor√°rio, Fisioterapeuta, Paciente, Celular, Conv√™nio, Status, Procedimentos, Repetido, Data, Valor</p>
                </div>

                <div class="how-to-info-box">
                    <p>‚è±Ô∏è <strong>Notifica√ß√µes:</strong> Aparecem em cascata elegante (50ms de diferen√ßa entre elas)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="frontend/js/string-utils.js"></script>
    <script src="frontend/js/notifications.js"></script>
    <script src="frontend/js/filter-system.js"></script>
    <script src="frontend/js/filter-ui.js"></script>
    <script src="frontend/js/filter-modal.js"></script>
    <script src="frontend/js/filter-modal-integration.js"></script>
    <script src="frontend/js/data-manager.js"></script>
    <script src="frontend/js/export-import-manager.js"></script>
    <script src="frontend/js/parser-agendamentos.js"></script>
    <script src="frontend/js/evolucoes-analyzer.js"></script>
    <script src="frontend/js/evolucoes-ui.js"></script>
    <script src="frontend/js/evolucoes-integration.js"></script>
    <script src="frontend/js/financial-parser.js"></script>
    <script src="frontend/js/financial-analyzer.js"></script>
    <script src="frontend/js/financial-ui.js"></script>
    <script src="frontend/js/financial-integration.js"></script>
    <script src="frontend/js/confirmation-modal.js"></script>
    <script src="frontend/js/clear-data-manager.js"></script>
    <script src="frontend/js/theme.js"></script>
    <script src="frontend/js/date.js"></script>
    <script src="frontend/js/modal.js"></script>
    <script src="frontend/js/how-to-use.js"></script>
    <script src="frontend/js/history.js"></script>
    <script src="frontend/js/api.js"></script>
    <script src="frontend/js/ui.js"></script>
    <script src="frontend/js/main.js"></script>
    <script src="frontend/js/debug-console.js"></script>
</body>
</html>
